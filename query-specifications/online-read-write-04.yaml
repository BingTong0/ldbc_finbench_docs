workload: Online
operation: read-write
number: 4
title: High risk account blocked after frequent big transfers
compositions:
  - name: Online / Read / 22
    ref: online-read-22
  - name: Online / Write / 3
    ref: online-write-03
  - name: Online / Read / 12
    ref: online-read-12
  - name: Online / Write / 10
    ref: online-write-10
description: |
  With the reads and writes, this query works as:
  * With Online / Read / 22, blocked status of related account is read.
  * With Online / write / 3, many transfer edges are inserted. Then enough transfer-out edges from the blocked and unblocked accounts are inserted to the target account.
  * With Online / read / 12, the pattern of abnormal transfer from the target account is detected and the count of the big transfers from the account is calculated.
  * When the count exceeds a threshold, Online / write / 10 is triggered to mark the account as blocked. 
parameters:
  - name: threshold of the big transfers.
    type: Float
relevance: |
  It is a typical case in risk control.
